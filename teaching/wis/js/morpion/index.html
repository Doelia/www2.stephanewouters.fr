<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Jeu du morpion</title>
</head>
<body>

<style>
    body {
        font-family: Tahoma,serif;
        background: #2f2f2f;
        color: white;
        text-align: center;
    }
    .grid {
        margin: 10px auto;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 5px;
        width: 300px;
    }
    .case {
        width: 100px;
        height: 80px;
        background: #494949;
        padding-top: 20px;
        cursor: pointer;
        font-size: 50px;
        text-align: center;
    }
</style>

<div>
    <div id="message">Joueur X, c'est à toi !</div>

    <div class="grid">
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
        <div class="case"></div>
    </div>

    <button onclick="replay()">Rejouer</button>
</div>

<script>
    let joueur_courant = 'X';
    let nombreCoups = 0;

    let cases = document.getElementsByClassName('case');
    for (let c of cases) {
        c.addEventListener('click', function() {
            if (!c.innerHTML) {
                c.innerHTML = joueur_courant;
                if (joueur_courant === 'X') {
                    joueur_courant = 'O';
                } else {
                    joueur_courant = 'X';
                }
                nombreCoups++;
                if (nombreCoups === 9) {
                    document.getElementById('message').innerHTML = "Partie terminée !";
                } else {
                    afficher_joueur_courant();
                }
            }
        })
    }

    function replay() {
        let cases = document.getElementsByClassName('case');
        for (let c of cases) {
            c.innerHTML = '';
        }
        nombreCoups = 0;
        joueur_courant = 'X';
        afficher_joueur_courant();
    }

    function afficher_joueur_courant() {
        document.getElementById('message').innerHTML = "Joueur " + joueur_courant + ", c'est à toi !";
    }
</script>

</body>
</html>
